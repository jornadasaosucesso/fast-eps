Lista de Materiais e Quantidades para 1 m^2 de Parede EPSO sistema de Painel Monolítico em EPS requer 3 grupos de materiais: o Painel (produto principal), os Revestimentos (Argamassa/Microconcreto) e os Acessórios.

Grupo de Material;Item;Unidade;Quantidade por 1m2 (Exemplo: Painel de 10 cm);Variável
1. PAINEL BRUTO;;;;
1. PAINEL BRUTO;Núcleo de EPS;m2;1,05;area_painel_bruto (Inclui 5% de perda no corte)
1. PAINEL BRUTO;Tela de Aço (Galvanizado);m2;1,05 a 1,10;area_tela (Inclui sobreposições e cortes)
2. REVESTIMENTO (ARGAMASSA);;;;
2. REVESTIMENTO (ARGAMASSA);Cimento (CPII, CPV, etc.);kg;45 a 55;consumo_cimento_kg (Varia com o traço)
2. REVESTIMENTO (ARGAMASSA);Areia (Média/Fina);L;15 a 20;consumo_areia_l
2. REVESTIMENTO (ARGAMASSA);Aditivo Plastificante;kg/L;Pequenas quantidades;custo_aditivo_m2 (Melhora a aderência)
2. REVESTIMENTO (ARGAMASSA);Água;L;Variável;(Não custa, mas é vital)
3. ACESSÓRIOS/FIXAÇÃO;;;;
3. ACESSÓRIOS/FIXAÇÃO;Conectores de Aço (para cantos);Unid.;0,5 a 1,0;consumo_conectores_un
3. ACESSÓRIOS/FIXAÇÃO;Tela de Reforço (Fundo de viga);m;0,3 a 0,5;consumo_tela_reforco_m
3. ACESSÓRIOS/FIXAÇÃO;Elementos de Fixação (Chumbamento);Unid.;Variável;custo_fixacao_m2

Detalhe Crítico: O Consumo de ArgamassaO maior custo variável (depois do EPS) é a argamassa, e a quantidade de cimento/areia depende de dois fatores:Espessura do Revestimento: Se você aplica 3 cm de argamassa de cada lado, são 6 cm de revestimento no total por m^2. Cálculo de Volume: 1 m^2 X 0,06 m (espessura) = 0,06 m^3 de volume de argamassa por m^2 de parede. Traço (Relação Cimento:Areia): Um traço mais forte (mais cimento) aumenta a resistência e o custo.Para fins de precificação rápida, você precisa do CUSTO TOTAL DE INSUMOS e não dos kg de cimento, pois isso simplifica o cálculo do captador

Estrutura para Precificação Dinâmica Automatizada
Para atender a essa necessidade, o Módulo de Orçamento precisará interagir com um Banco de Dados de Insumos que o gestor deve atualizar.

1. Novo Schema Necessário: insumos_materia_prima
Este Schema deve ser a fonte da verdade sobre o preço de custo de tudo o que a FAST EPS compra.

insumos_materia_prima.json
Campo (Type);Descrição;Exemplo de Valor;Variável no Cálculo
insumo_nome (String);Nome do material de compra.;"Cimento CPV 40kg";Identificação
unidade_compra (String);Unidade de medida do fornecedor.;"Saco";Para conversão
preco_unitario_compra (Number);Último preço de custo pago.;35.00;Base de cálculo
unidade_estoque (String);Unidade interna de estoque.;"kg";Para gestão interna
fator_conversao (Number);Quantidade na unidade de compra por unidade de estoque.;40 (40 kg/saco);Para calcular o custo por kg.
data_atualizacao (Date);Última data de atualização do preço.;45999;Para auditoria

2. O Schema de Composição do Produto: receitas_composicaoEste Schema dita quantos quilos ou metros de insumos são necessários para produzir 1 m^2$ de cada painel ou serviço.

receitas_composicao.json

Campo (Type);Descrição;Exemplo de Valor;
produto_sku (String);SKU do Painel (Ex: P-10-20).;"P-10-20";
insumos_necessarios (Array);Lista de insumos e quantidades necessárias por 1 m2.;;
insumos_necessarios[0].insumo_id;Identificador do insumo (Ex: Cimento, EPS Bruto, Areia).;"CIMENTO_CPV";
insumos_necessarios[0].consumo_por_m2;Consumo em kg ou m2 para 1 m2 do produto.;48.0 (kg de cimento por m2 de parede);

O Fluxo de Precificação Dinâmica (JavaScript)Para que o preço se atualize, o JS fará o seguinte cálculo quando o captador solicitar o orçamento:Iterar a Receita: O JS pega a receita_composicao do painel (Ex: P-10-20).Buscar Custo: Para cada insumo na receita (Cimento, Areia, EPS Bruto), o JS consulta o insumos_materia_prima.json para obter o preco_unitario_compra atualizado.Calcular Custo m^2 (CF): Multiplica o consumo_por_m2 pela preco_unitario_compra para obter o custo final por m^2 de cada insumo.Somar: Soma todos os custos de insumos (Cimento + Areia + EPS Bruto) para obter o CUSTO TOTAL DE MATERIAL POR m^2.Aplicar Mark-up: Aplica o markup de vendas ao custo total para obter o Preço de Venda.O Ganho de Valor: Se o gestor atualizar o preco_unitario_compra do Cimento de R$ 35,00 para R$ 40,00$ no JSON insumos_materia_prima, o preço de venda para o cliente final sobe automaticamente no próximo orçamento.


Lógica de Receita: O JSON receitas_composicao precisará saber quantos kg de grânulo bruto são necessários para produzir 1 m^2 de painel EPS de 10 cm (Densidade {15 kg}/m^3).

DESCRIÇÃO DETALHADA DO receitas_composicao.json

Campo;Tipo;Descrição Completa;Importância no Negócio
produto_sku;String (Obrigatório);Código de Identificação do Produto. É o código único da FAST EPS para o produto final. Ele permite que o sistema de vendas (o captador) selecione o item a ser orçado e o vincule à receita correta.;Chave de Busca (Lookup): O sistema de orçamento usa o SKU para encontrar qual receita aplicar.
insumos_necessarios;Array (Obrigatório);A Lista de Materiais e Quantidades. Este é um array que contém todos os insumos de matéria-prima (do insumos_materia_prima.json) e acessórios necessários para produzir exatamente um metro quadrado (1 m2) do produto especificado no produto_sku.;Coração da Receita: Contém as proporções da "fórmula" do produto, definindo a quantidade física necessária.
insumos_necessarios[i].insumo_id;String (Obrigatório);Identificador do Insumo. É a chave de busca que se conecta ao JSON insumos_materia_prima. Deve ser um ID único (Ex: CIMENTO_CPV, GRANULO_PS_15KG).;Vinculação de Custo: Garante que o sistema puxe o preço de compra atualizado do insumo correto, mantendo a precificação dinâmica.
insumos_necessarios[i].consumo_por_m2;Number (Obrigatório);Quantidade Física de Consumo. Representa a quantidade exata do insumo_id que é gasta (em kg, L ou m2) para cobrir ou produzir um metro quadrado (1 m2) do produto final.;Cálculo de Custo: É o fator que multiplica o preço unitário do insumo para gerar o custo por m2.
insumos_necessarios[i].fator_perda;Number (Opcional);Percentual de Perda ou Desperdício. É um fator de segurança para considerar a perda de material durante o processo de produção, manuseio ou corte (ex: 5% de argamassa que cai no chão). Se 0.05, significa 5% de perda.;Custo Realista: Garante que o custo final reflita o consumo real, incluindo o desperdício inerente à produção.
custos_operacionais;Array (Opcional);Custos de Mão de Obra e Energia. Lista de custos não-materiais associados à produção de 1 m2 do produto (Ex: horas de trabalho, energia para a máquina de corte).;Custo Fixo/Variável Agregado: Permite somar o custo da mão de obra de produção e outros custos operacionais (que também podem estar em um JSON separado, se o gestor quiser detalhamento).


Se o painel for o "PAINEL-P10-TELA-50" (Painel de 10 cm com Tela 50 kg/m^2):

insumo_id;consumo_por_m2;fator_perda;
GRANULO_PS_15KG;15 kg;0.02 (2% de perda na expansão);
TELA_ACO_50_G;1.1 m2;0.05 (5% de perda/sobreposição no corte);
CIMENTO_CPV;48.0 kg;0.03 (3% de perda na mistura);
ADITIVO_PLAST;0.02 L;0.00;

meu amigão..... isso tudo foi fruto de muita pesquisa na web, fui guardando tudo, muito estudo mesmo..... o que vc acha q da pra fazer com tudp isso, so lembrando que vamos ter nossas planilhas em excell, se for possivel, até implantarmos o modulo estoque.... ve ai e me fala, conseguiremos fazer isso tudo aqui....





Passo a Passo — Como o Orçamento é Calculado
Este documento descreve, em passos claros e verificáveis, como o sistema monta o preço final de um
orçamento de placas EPS. Inclui fórmulas, onde buscar preços (estoque ou tabela local), tratamento de
perdas e um exemplo numérico simples. Use este PDF para explicar aos clientes ou auditar os cálculos.
Passo Descrição / Fórmula / Observações
1. Entrada de Dados Recebe: produto, densidade, espessura, medidas, quantidade, preço unitário (pode vir da tabela local ou do estoque importado).
2. Fonte do Preço Unitário Prioridade: 1) tabelaPrecos (lookup por produto+densidade+espessura). 2) Estoque importado (busca por descrição). 3) Entrada manual pelo usuário.
3. Conversão de Unidades (quando aplicável) Se o preço do insumo estiver por embalagem, aplicar fator_conversao do schema insumos_materia_prima para obter preço por kg/m2. (Ex.: 1 saco = 40kg -> preco_saco/fator_conversao = preco_por_kg).
4. Cálculo do Subtotal subtotal = preco_unit * quantidade. (Se o produto for tarifado por área, calcular primeiro area_em_m2 e usar quantidade_em_m2)
5. Aplicar Perdas e Fatores de Produção (opcional) Se houver fator_perda na receita (ex: 0.05), ajustar consumo: consumo_real = consumo_teorico * (1 + fator_perda). Para o preço: custo_com_perda = custo_teorico * (1 + fator_perda).
6. Custos Operacionais / Mão de Obra (opcional) Somar custos_operacionais por m2 ou por peça, se houver. Podem ser percentuais ou valores fixos.
7. Impostos e Encargos (opcionaAl)plicar impostoPerc (ex: ICMS/ISS). total_com_impostos = subtotal * 
(1 + impostoPerc/100). 8. Margem de Venda / Markup Aplicar margemPerc: total_venda = total_com_impostos * (1 + margemPerc/100). (No sistema atual esses percentuais estão em 0, mas podem ser parâmetros editáveis).
9. Total Final apresentado ao Cliente Total exibido = total_venda (formatado em R$). O PDF de orçamento traz resumo com cliente, produto, medidas, quantidade e total.
10. Auditoria / Histórico Salvar parâmetros usados (preço fonte, data_atualizacao dos insumos, fatores aplicados) para permitir auditoria futura.
Exemplo Numérico (rápido)
Suponha: produto = Placa EPS 1000x2000x50mm, quantidade = 2 peças, preço_unit = R$ 50,00 (vindo
do estoque).
1) Subtotal = 50.00 * 2 = R$ 100,00
2) Sem impostos nem margem (impostoPerc=0, margemPerc=0) => Total = R$ 100,00
3) Se fosse aplicada margemPerc=20% => Total = 100 * 1.20 = R$ 120,00
4) Se houver perda de 5% no corte para insumos, e custo de insumo por m2 fosse computado antes,
aplicar (1 + 0.05).
Observação: o sistema atual preenche automaticamente data do orçamento e permite importar a tabela
de estoque (Excel).
Recomendações para auditoria e contingência
• Mantenha 'insumos_materia_prima' atualizado com data_atualizacao e fator_conversao.
• Use 'receitas_composicao' para produtos complexos (ex.: painéis) e calcule custo por m2
automaticamente.
• Ao importar Excel, valide colunas sku/desc/preco para garantir lookup correto.
• Disponibilize opção no formulário para informar impostoPerc e margemPerc antes de finalizar o
orçamento.
• Guarde no histórico o ID do estoque/tabela usado para auditoria (timestamp + fonte).